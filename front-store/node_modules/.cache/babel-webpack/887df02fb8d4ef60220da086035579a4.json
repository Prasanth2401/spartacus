{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\n\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 3);\n  }\n\n  if (rf & 2) {\n    const thumbs_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n\n    const _r1 = i0.ɵɵreference(3);\n\n    i0.ɵɵproperty(\"items\", thumbs_r3)(\"hideIndicators\", false)(\"template\", _r1);\n  }\n}\n\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r3.length);\n  }\n}\n\nfunction ProductImageZoomThumbnailsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"cx-media\", 4);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomThumbnailsComponent_ng_template_2_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.item;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.openImage(item_r6.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r6 = ctx.item;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r2.isActive(item_r6.container)));\n    i0.ɵɵproperty(\"container\", item_r6.container);\n  }\n}\n\nconst _c0 = [\"defaultImage\"];\nconst _c1 = [\"zoomContainer\"];\nconst _c2 = [\"zoomedImage\"];\n\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const previousProduct_r8 = restoredCtx.ngIf;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.openImage(previousProduct_r8.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r4.iconType.CARET_LEFT);\n  }\n}\n\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-media\", 10, 11);\n  }\n\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\n\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 12, 13);\n    i0.ɵɵelementStart(2, \"cx-media\", 14, 15);\n    i0.ɵɵlistener(\"mousemove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_mousemove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.pointerMove($event);\n    })(\"touchmove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchmove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.touchMove($event);\n    })(\"touchend\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchend_2_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.clearTouch();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\n\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const nextProduct_r20 = restoredCtx.ngIf;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return ctx_r21.openImage(nextProduct_r20.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r7.iconType.CARET_RIGHT);\n  }\n}\n\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtemplate(2, ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template, 2, 1, \"cx-media\", 6);\n    i0.ɵɵtemplate(5, ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template, 4, 1, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵtemplate(7, ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r2.getPreviousProduct(thumbs_r3)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isZoomed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isZoomed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 6, ctx_r2.getNextProduct(thumbs_r3)));\n  }\n}\n\nfunction ProductImageZoomViewComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomViewComponent_ng_container_0_div_1_Template, 9, 8, \"div\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.thumbnails$));\n  }\n}\n\nconst _c3 = [\"expandButton\"];\n\nfunction ProductImageZoomProductImagesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"cx-media\", 2);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_media_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.triggerZoom(true);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"cx-product-image-zoom-trigger\", 3);\n    i0.ɵɵlistener(\"dialogClose\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_product_image_zoom_trigger_dialogClose_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.triggerZoom(false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const main_r4 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"container\", main_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"expandImage\", ctx_r0.expandImage.value)(\"galleryIndex\", ctx_r0.selectedIndex);\n  }\n}\n\nfunction ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 5);\n  }\n\n  if (rf & 2) {\n    const thumbs_r8 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n\n    const _r2 = i0.ɵɵreference(5);\n\n    i0.ɵɵproperty(\"items\", thumbs_r8)(\"hideIndicators\", false)(\"template\", _r2);\n  }\n}\n\nfunction ProductImageZoomProductImagesComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const thumbs_r8 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r8.length);\n  }\n}\n\nfunction ProductImageZoomProductImagesComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"cx-media\", 6);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomProductImagesComponent_ng_template_4_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r11 = restoredCtx.item;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.openImage(item_r11.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r11 = ctx.item;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r3.isActive(item_r11.container)));\n    i0.ɵɵproperty(\"container\", item_r11.container);\n  }\n}\n\nclass ProductImageZoomThumbnailsComponent {\n  constructor() {\n    this.mainMediaContainer = new BehaviorSubject({});\n    this.productImage = new EventEmitter();\n    this.subscription = new Subscription();\n  }\n\n  ngOnInit() {\n    this.subscription.add(this.activeThumb.subscribe(image => {\n      this.mainMediaContainer.next(image);\n    }));\n  }\n\n  openImage(image) {\n    var _a;\n\n    this.mainMediaContainer.next(image);\n\n    if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n      this.productImage.emit({\n        image,\n        index: image.zoom.galleryIndex\n      });\n    }\n  }\n\n  isActive(thumbnail) {\n    return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map(container => {\n      var _a, _b;\n\n      return ((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) && ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) && container.zoom.url === thumbnail.zoom.url;\n    }));\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n}\n\nProductImageZoomThumbnailsComponent.ɵfac = function ProductImageZoomThumbnailsComponent_Factory(t) {\n  return new (t || ProductImageZoomThumbnailsComponent)();\n};\n\nProductImageZoomThumbnailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomThumbnailsComponent,\n  selectors: [[\"cx-product-image-zoom-thumbnails\"]],\n  inputs: {\n    thumbs$: \"thumbs$\",\n    activeThumb: \"activeThumb\"\n  },\n  outputs: {\n    productImage: \"productImage\"\n  },\n  decls: 4,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [\"class\", \"thumbs\", \"itemWidth\", \"70px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"70px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomThumbnailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomThumbnailsComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomThumbnailsComponent_ng_template_2_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.CarouselComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomThumbnailsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-thumbnails',\n      templateUrl: './product-image-zoom-thumbnails.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [];\n  }, {\n    productImage: [{\n      type: Output\n    }],\n    thumbs$: [{\n      type: Input\n    }],\n    activeThumb: [{\n      type: Input\n    }]\n  });\n})();\n\nclass ProductImageZoomViewComponent {\n  constructor(currentProductService, renderer, cdRef, breakpointService) {\n    this.currentProductService = currentProductService;\n    this.renderer = renderer;\n    this.cdRef = cdRef;\n    this.breakpointService = breakpointService;\n    this.iconType = ICON_TYPE;\n    this.mainMediaContainer = new BehaviorSubject(null);\n    this.defaultImageReady = new BehaviorSubject(false);\n    this.zoomReady = new BehaviorSubject(false);\n    this.subscription = new Subscription();\n    this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n    this.defaultImageReady$ = this.defaultImageReady.asObservable();\n    this.zoomReady$ = this.zoomReady.asObservable();\n    this.activeThumb = new EventEmitter();\n    this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n    this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.isZoomed = false;\n    this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), distinctUntilChanged(), tap(p => {\n      var _a, _b, _c, _d;\n\n      if (this.galleryIndex) {\n        const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY) ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find(img => {\n          var _a;\n\n          return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex;\n        }) : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n        this.mainMediaContainer.next(image || null);\n      } else {\n        this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n      }\n    }), shareReplay(1));\n    this.thumbnails$ = this.product$.pipe(map(p => this.createThumbs(p)), shareReplay(1));\n    this.mainImage$ = combineLatest([this.product$, this.mainMediaContainer$]).pipe(map(([, container]) => container));\n  }\n\n  get defaultImage() {\n    return this._defaultImage;\n  }\n\n  set defaultImage(el) {\n    if (el) {\n      this._defaultImage = el;\n      this.defaultImageReady.next(true);\n    }\n  }\n\n  get zoomImage() {\n    return this._zoomImage;\n  }\n\n  set zoomImage(el) {\n    if (el) {\n      this._zoomImage = el;\n      this.zoomReady.next(true);\n    }\n  }\n\n  ngOnInit() {\n    this.subscription.add(this.defaultImageClickHandler$.subscribe());\n    this.subscription.add(this.zoomImageClickHandler$.subscribe());\n  }\n\n  openImage(item) {\n    this.mainMediaContainer.next(item);\n    this.activeThumb.emit(item);\n  }\n  /** find the index of the main media in the list of media */\n\n\n  getActive() {\n    var _a, _b, _c, _d;\n\n    if (Array.isArray(this.mainMediaContainer.value)) {\n      return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n    }\n\n    return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n  }\n\n  getPreviousProduct(thumbs) {\n    const active = this.getActive();\n\n    if (active === 0) {\n      return thumbs[active];\n    }\n\n    return thumbs[active - 1];\n  }\n\n  getNextProduct(thumbs) {\n    const active = this.getActive();\n\n    if (active === thumbs.length - 1) {\n      return thumbs[active];\n    }\n\n    return thumbs[active + 1];\n  }\n  /**\n   * Zoom in or out of the image\n   */\n\n\n  zoom() {\n    this.isZoomed = !this.isZoomed;\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.cdRef.markForCheck();\n  }\n  /**\n   * Touch screen image pan\n   *\n   * @param event\n   */\n\n\n  touchMove(event) {\n    var _a, _b, _c, _d;\n\n    const touch = event.touches[0] || event.changedTouches[0];\n    const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n    const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n    if (!this.startCoords) this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n    this.left += touch.clientX - this.startCoords.x;\n    this.top += touch.clientY - this.startCoords.y;\n    this.moveImage(this.left, this.top, boundingRect, imageElement);\n    this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n  }\n  /**\n   * Clears touch location\n   */\n\n\n  clearTouch() {\n    this.startCoords = null;\n  }\n  /**\n   * Pointer image pan\n   *\n   * @param event\n   */\n\n\n  pointerMove(event) {\n    const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n    const imageElement = this.zoomedImage.nativeElement.firstChild;\n    const {\n      positionX,\n      positionY\n    } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n    this.moveImage(positionX, positionY, boundingRect, imageElement);\n  }\n\n  changeImage(event) {\n    this.mainMediaContainer.next(event.image);\n  }\n  /**\n   * Applies the offset from touchMove or pointerMove to the image element\n   *\n   * @param positionX\n   * @param positionY\n   * @param boundingRect\n   * @param imageElement\n   */\n\n\n  moveImage(positionX, positionY, boundingRect, imageElement) {\n    const {\n      x,\n      y\n    } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n\n    if (imageElement) {\n      this.renderer.setStyle(imageElement, 'left', x + 'px');\n      this.renderer.setStyle(imageElement, 'top', y + 'px');\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n  /**\n   * Returns click and dblclick event mapping for the given element\n   *\n   * @param element\n   */\n\n\n  clickOrDoubleClick(element) {\n    return [fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)), fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean))];\n  }\n  /**\n   * Return an array of CarouselItems for the product thumbnails.\n   * In case there are less then 2 thumbs, we return null.\n   */\n\n\n  createThumbs(product) {\n    if (!product.images || !product.images.GALLERY || product.images.GALLERY.length < 2) {\n      return [];\n    }\n\n    const images = product.images.GALLERY;\n    return images.map(c => of({\n      container: c\n    }));\n  }\n  /**\n   * Keeps the zoom image from leaving the bounding container\n   *\n   * @param positionX\n   * @param positionY\n   * @param imageElement\n   * @param boundingRect\n   */\n\n\n  handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n    const paddingX = 60;\n    const paddingY = 60;\n\n    if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n      positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n    }\n\n    if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n      positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n    }\n\n    if (positionX <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n      positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n    }\n\n    if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n      positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n    }\n\n    return {\n      x: positionX,\n      y: positionY\n    };\n  }\n  /**\n   * Returns the position of the image based on the cursor pointer\n   *\n   * @param element\n   * @param clientX\n   * @param clientY\n   */\n\n\n  calculatePointerMovePosition(element, clientX, clientY) {\n    const boundingRect = element.nativeElement.getBoundingClientRect();\n    const x = clientX - boundingRect.left;\n    const y = clientY - boundingRect.top;\n    const positionX = -x + element.nativeElement.clientWidth / 2;\n    const positionY = -y + element.nativeElement.clientHeight / 2;\n    return {\n      positionX,\n      positionY\n    };\n  }\n\n}\n\nProductImageZoomViewComponent.ɵfac = function ProductImageZoomViewComponent_Factory(t) {\n  return new (t || ProductImageZoomViewComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.BreakpointService));\n};\n\nProductImageZoomViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomViewComponent,\n  selectors: [[\"cx-product-image-zoom-view\"]],\n  viewQuery: function ProductImageZoomViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      i0.ɵɵviewQuery(_c1, 5, ElementRef);\n      i0.ɵɵviewQuery(_c2, 5, ElementRef);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.defaultImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomedImage = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 3,\n  vars: 5,\n  consts: [[4, \"ngIf\"], [3, \"thumbs$\", \"activeThumb\", \"productImage\"], [\"class\", \"cx-main-image-group\", 4, \"ngIf\"], [1, \"cx-main-image-group\"], [1, \"cx-navigate-image\"], [\"class\", \"btn btn-link\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"cx-default-image-zoom\", 3, \"container\", 4, \"ngIf\"], [\"class\", \"cx-zoom-container\", 4, \"ngIf\"], [1, \"btn\", \"btn-link\", 3, \"click\"], [3, \"type\"], [1, \"cx-default-image-zoom\", 3, \"container\"], [\"defaultImage\", \"\"], [1, \"cx-zoom-container\"], [\"zoomContainer\", \"\"], [1, \"cx-image-zoomed\", 3, \"container\", \"mousemove\", \"touchmove\", \"touchend\"], [\"zoomedImage\", \"\"]],\n  template: function ProductImageZoomViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomViewComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"cx-product-image-zoom-thumbnails\", 1);\n      i0.ɵɵlistener(\"productImage\", function ProductImageZoomViewComponent_Template_cx_product_image_zoom_thumbnails_productImage_2_listener($event) {\n        return ctx.changeImage($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 3, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"thumbs$\", ctx.thumbnails$)(\"activeThumb\", ctx.activeThumb);\n    }\n  },\n  directives: [i3.NgIf, ProductImageZoomThumbnailsComponent, i1.IconComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomViewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-view',\n      templateUrl: './product-image-zoom-view.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.BreakpointService\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    defaultImage: [{\n      type: ViewChild,\n      args: ['defaultImage', {\n        read: ElementRef\n      }]\n    }],\n    zoomImage: [{\n      type: ViewChild,\n      args: ['zoomContainer', {\n        read: ElementRef\n      }]\n    }],\n    zoomedImage: [{\n      type: ViewChild,\n      args: ['zoomedImage', {\n        read: ElementRef\n      }]\n    }]\n  });\n})();\n\nclass ProductImageZoomDialogComponent {\n  constructor(launchDialogService, el) {\n    this.launchDialogService = launchDialogService;\n    this.el = el;\n    this.iconType = ICON_TYPE;\n    this.focusConfig = {\n      trap: true,\n      block: true,\n      autofocus: 'button',\n      focusOnEscape: true\n    };\n  }\n\n  handleClick(event) {\n    // Close on click outside the dialog window\n    if (event.target.tagName === this.el.nativeElement.tagName) {\n      this.close('Cross click');\n    }\n  }\n\n  close(reason = '') {\n    this.launchDialogService.closeDialog(reason);\n  }\n\n}\n\nProductImageZoomDialogComponent.ɵfac = function ProductImageZoomDialogComponent_Factory(t) {\n  return new (t || ProductImageZoomDialogComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n\nProductImageZoomDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomDialogComponent,\n  selectors: [[\"cx-product-image-zoom-dialog\"]],\n  hostBindings: function ProductImageZoomDialogComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_click_HostBindingHandler($event) {\n        return ctx.handleClick($event);\n      });\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 9,\n  vars: 6,\n  consts: [[1, \"cx-image-zoom-dialog\", 3, \"cxFocus\"], [1, \"cx-dialog-content\"], [1, \"cx-dialog-header\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [1, \"cx-dialog-body\"], [3, \"galleryIndex\"]],\n  template: function ProductImageZoomDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_Template_button_click_3_listener() {\n        return ctx.close(\"cross click\");\n      });\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelementStart(5, \"span\", 4);\n      i0.ɵɵelement(6, \"cx-icon\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"cx-product-image-zoom-view\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 4, \"productImageZoomDialog.close\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"type\", ctx.iconType.CLOSE);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"galleryIndex\", ctx.galleryIndex);\n    }\n  },\n  directives: [i1.FocusDirective, i1.IconComponent, ProductImageZoomViewComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomDialogComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-dialog',\n      templateUrl: 'product-image-zoom-dialog.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    handleClick: [{\n      type: HostListener,\n      args: ['click', ['$event']]\n    }]\n  });\n})();\n\nconst defaultProductImageZoomLayoutConfig = {\n  launch: {\n    PRODUCT_IMAGE_ZOOM: {\n      inline: true,\n      component: ProductImageZoomDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG\n    }\n  }\n};\n\nclass ProductImageZoomTriggerComponent {\n  constructor(launchDialogService, vcr) {\n    this.launchDialogService = launchDialogService;\n    this.vcr = vcr;\n    this.iconType = ICON_TYPE;\n    this.subscriptions = new Subscription();\n    this.dialogClose = new EventEmitter();\n  }\n\n  set expandImage(expand) {\n    if (expand) {\n      this.triggerZoom();\n    }\n  }\n\n  triggerZoom() {\n    const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\"\n    /* PRODUCT_IMAGE_ZOOM */\n    , this.vcr);\n\n    if (component) {\n      this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose]).pipe(tap(([comp]) => {\n        if (this.galleryIndex) {\n          comp.instance.galleryIndex = this.galleryIndex;\n        }\n      }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n        this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\"\n        /* PRODUCT_IMAGE_ZOOM */\n        );\n        comp === null || comp === void 0 ? void 0 : comp.destroy();\n        this.dialogClose.emit();\n        this.expandButton.nativeElement.focus();\n      })).subscribe());\n    }\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n}\n\nProductImageZoomTriggerComponent.ɵfac = function ProductImageZoomTriggerComponent_Factory(t) {\n  return new (t || ProductImageZoomTriggerComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n};\n\nProductImageZoomTriggerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomTriggerComponent,\n  selectors: [[\"cx-product-image-zoom-trigger\"]],\n  viewQuery: function ProductImageZoomTriggerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.expandButton = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\",\n    expandImage: \"expandImage\"\n  },\n  outputs: {\n    dialogClose: \"dialogClose\"\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [\"expandButton\", \"\"], [3, \"type\"]],\n  template: function ProductImageZoomTriggerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0, 1);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomTriggerComponent_Template_button_click_0_listener() {\n        return ctx.triggerZoom();\n      });\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelement(5, \"cx-icon\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"productImageZoomTrigger.expand\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"type\", ctx.iconType.EXPAND_ARROWS);\n    }\n  },\n  directives: [i1.IconComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomTriggerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-trigger',\n      templateUrl: 'product-image-zoom-trigger.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ViewContainerRef\n    }];\n  }, {\n    expandButton: [{\n      type: ViewChild,\n      args: ['expandButton']\n    }],\n    galleryIndex: [{\n      type: Input\n    }],\n    expandImage: [{\n      type: Input\n    }],\n    dialogClose: [{\n      type: Output\n    }]\n  });\n})();\n\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n  constructor(currentProductService) {\n    super(currentProductService);\n    this.currentProductService = currentProductService;\n    this.expandImage = new BehaviorSubject(false);\n  }\n\n  openImage(item) {\n    var _a, _b;\n\n    this.mainMediaContainer.next(item);\n    this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n  }\n  /**\n   * Opens image zoom dialog.\n   */\n\n\n  triggerZoom(value) {\n    this.expandImage.next(value);\n  }\n\n}\n\nProductImageZoomProductImagesComponent.ɵfac = function ProductImageZoomProductImagesComponent_Factory(t) {\n  return new (t || ProductImageZoomProductImagesComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService));\n};\n\nProductImageZoomProductImagesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomProductImagesComponent,\n  selectors: [[\"cx-product-images\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 6,\n  vars: 6,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [3, \"container\", \"click\"], [3, \"expandImage\", \"galleryIndex\", \"dialogClose\"], [\"class\", \"thumbs\", \"itemWidth\", \"120px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"120px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", \"format\", \"product\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomProductImagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomProductImagesComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomProductImagesComponent_ng_container_2_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, ProductImageZoomProductImagesComponent_ng_template_4_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.MediaComponent, ProductImageZoomTriggerComponent, i1.CarouselComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomProductImagesComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-images',\n      templateUrl: './product-image-zoom-product-images.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }];\n  }, null);\n})();\n\nclass ProductImageZoomModule {}\n\nProductImageZoomModule.ɵfac = function ProductImageZoomModule_Factory(t) {\n  return new (t || ProductImageZoomModule)();\n};\n\nProductImageZoomModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomModule\n});\nProductImageZoomModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n    cmsComponents: {\n      ProductImagesComponent: {\n        component: ProductImageZoomProductImagesComponent\n      }\n    }\n  })],\n  imports: [[CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule],\n      providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n        cmsComponents: {\n          ProductImagesComponent: {\n            component: ProductImageZoomProductImagesComponent\n          }\n        }\n      })],\n      declarations: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent],\n      exports: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent]\n    }]\n  }], null, null);\n})();\n\nclass ProductImageZoomComponentsModule {}\n\nProductImageZoomComponentsModule.ɵfac = function ProductImageZoomComponentsModule_Factory(t) {\n  return new (t || ProductImageZoomComponentsModule)();\n};\n\nProductImageZoomComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomComponentsModule\n});\nProductImageZoomComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[ProductImageZoomModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomComponentsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [ProductImageZoomModule]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig }; //# sourceMappingURL=spartacus-product-image-zoom-components.js.map","map":{"version":3,"sources":["D:/spartacus/front-store/node_modules/@spartacus/product/fesm2015/spartacus-product-image-zoom-components.js","D:/spartacus/front-store/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-thumbnails/product-image-zoom-thumbnails.component.html","D:/spartacus/front-store/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-view/product-image-zoom-view.component.html","D:/spartacus/front-store/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-product-images/product-image-zoom-product-images.component.html","D:/spartacus/front-store/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-dialog/product-image-zoom-dialog.component.html","D:/spartacus/front-store/node_modules/feature-libs/product/image-zoom/components/product-image-zoom/product-image-zoom-trigger/product-image-zoom-trigger.component.html"],"names":["i0","EventEmitter","Component","ChangeDetectionStrategy","Output","Input","ElementRef","ViewChild","HostListener","NgModule","i3","CommonModule","RouterModule","i3$1","isNotNullable","I18nModule","provideConfig","provideDefaultConfig","i1","ICON_TYPE","BREAKPOINT","DIALOG_TYPE","ProductImagesComponent","CarouselModule","IconModule","KeyboardFocusModule","MediaModule","OutletModule","BehaviorSubject","Subscription","merge","combineLatest","fromEvent","of","filter","map","switchMap","tap","distinctUntilChanged","shareReplay","switchMapTo","ProductImageZoomThumbnailsComponent","constructor","mainMediaContainer","productImage","subscription","ngOnInit","add","activeThumb","subscribe","image","next","openImage","_a","zoom","galleryIndex","emit","index","isActive","thumbnail","asObservable","pipe","container","_b","url","ngOnDestroy","unsubscribe","ɵfac","ɵcmp","NgIf","CarouselComponent","MediaComponent","AsyncPipe","type","args","selector","templateUrl","changeDetection","OnPush","thumbs$","ProductImageZoomViewComponent","currentProductService","renderer","cdRef","breakpointService","iconType","defaultImageReady","zoomReady","mainMediaContainer$","defaultImageReady$","zoomReady$","defaultImageClickHandler$","Boolean","_","clickOrDoubleClick","defaultImage","zoomImageClickHandler$","zoomImage","startCoords","left","top","isZoomed","product$","getProduct","p","_c","_d","Array","isArray","images","GALLERY","find","img","PRIMARY","thumbnails$","createThumbs","mainImage$","_defaultImage","el","_zoomImage","item","getActive","value","getPreviousProduct","thumbs","active","getNextProduct","length","markForCheck","touchMove","event","touch","touches","changedTouches","boundingRect","zoomedImage","nativeElement","getBoundingClientRect","imageElement","firstChild","x","clientX","y","clientY","moveImage","clearTouch","pointerMove","positionX","positionY","calculatePointerMovePosition","changeImage","handleOutOfBounds","setStyle","element","isUp","md","isDown","lg","product","c","paddingX","paddingY","height","width","clientWidth","clientHeight","CurrentProductService","Renderer2","ChangeDetectorRef","BreakpointService","IconComponent","read","ProductImageZoomDialogComponent","launchDialogService","focusConfig","trap","block","autofocus","focusOnEscape","handleClick","target","tagName","close","reason","closeDialog","LaunchDialogService","FocusDirective","TranslatePipe","defaultProductImageZoomLayoutConfig","launch","PRODUCT_IMAGE_ZOOM","inline","component","dialogType","DIALOG","ProductImageZoomTriggerComponent","vcr","subscriptions","dialogClose","expandImage","expand","triggerZoom","comp","instance","clear","destroy","expandButton","focus","ViewContainerRef","ProductImageZoomProductImagesComponent","selectedIndex","ProductImageZoomModule","ɵmod","ɵinj","cmsComponents","imports","providers","declarations","exports","ProductImageZoomComponentsModule"],"mappings":"AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,uBAAlC,EAA2DC,MAA3D,EAAmEC,KAAnE,EAA0EC,UAA1E,EAAsFC,SAAtF,EAAiGC,YAAjG,EAA+GC,QAA/G,QAA+H,eAA/H;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,OAAO,KAAKC,IAAZ,MAAsB,iBAAtB;AACA,SAASC,aAAT,EAAwBC,UAAxB,EAAoCC,aAApC,EAAmDC,oBAAnD,QAA+E,iBAA/E;AACA,OAAO,KAAKC,EAAZ,MAAoB,uBAApB;AACA,SAASC,SAAT,EAAoBC,UAApB,EAAgCC,WAAhC,EAA6CC,sBAA7C,EAAqEC,cAArE,EAAqFC,UAArF,EAAiGC,mBAAjG,EAAsHC,WAAtH,EAAmIC,YAAnI,QAAuJ,uBAAvJ;AACA,SAASC,eAAT,EAA0BC,YAA1B,EAAwCC,KAAxC,EAA+CC,aAA/C,EAA8DC,SAA9D,EAAyEC,EAAzE,QAAmF,MAAnF;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,EAAiCC,GAAjC,EAAsCC,oBAAtC,EAA4DC,WAA5D,EAAyEC,WAAzE,QAA4F,gBAA5F;;;;AAgCsHxC,IAAAA,ECzCpH,+B;;;;sBDyCoHA,E;AAAAA,IAAAA,E;;gBAAAA,E;;AAAAA,IAAAA,ECtClH,yE;;;;;;ADsCkHA,IAAAA,EC1CtH,2B;AD0CsHA,IAAAA,ECzCpH,iH;ADyCoHA,IAAAA,ECjCtH,wB;;;;;ADiCsHA,IAAAA,ECxCjH,a;ADwCiHA,IAAAA,ECxCjH,qC;;;;;;gBDwCiHA,E;;AAAAA,IAAAA,EC9BpH,iC;AD8BoHA,IAAAA,EC3BlH;AAAA,0BD2BkHA,EC3BlH;AAAA;AAAA,qBD2BkHA,EC3BlH;AAAA;AAAA,M;AD2BkHA,IAAAA,E;AAAAA,IAAAA,ECxBpH,e;;;;;mBDwBoHA,E;AAAAA,IAAAA,EC1BlH,0BD0BkHA,EC1BlH,uD;AD0BkHA,IAAAA,EC7BlH,2C;;;;;;;;;;iBD6BkHA,E;;AAAAA,IAAAA,EEvChH,+B;AFuCgHA,IAAAA,EEpC9G;AAAA,0BFoC8GA,EEpC9G;AAAA;AAAA,qBFoC8GA,EEpC9G;AAAA;AAAA,M;AFoC8GA,IAAAA,EElC9G,2B;AFkC8GA,IAAAA,EEjChH,e;;;;mBFiCgHA,E;AAAAA,IAAAA,EElCrG,a;AFkCqGA,IAAAA,EElCrG,+C;;;;;;AFkCqGA,IAAAA,EE/BlH,iC;;;;oBF+BkHA,E;AAAAA,IAAAA,EE3BhH,iC;;;;;;iBF2BgHA,E;;AAAAA,IAAAA,EExBlH,iC;AFwBkHA,IAAAA,EEvBhH,sC;AFuBgHA,IAAAA,EEnB9G;AFmB8GA,MAAAA,EEnB9G;AAAA,sBFmB8GA,EEnB9G;AAAA;AAAA;AFmB8GA,MAAAA,EEnB9G;AAAA,sBFmB8GA,EEnB9G;AAAA;AAAA;AFmB8GA,MAAAA,EEnB9G;AAAA,sBFmB8GA,EEnB9G;AAAA;AAAA,M;AFmB8GA,IAAAA,EEfhH,e;AFegHA,IAAAA,EEdlH,e;;;;oBFckHA,E;AAAAA,IAAAA,EEpB9G,a;AFoB8GA,IAAAA,EEpB9G,iC;;;;;;iBFoB8GA,E;;AAAAA,IAAAA,EEZhH,+B;AFYgHA,IAAAA,EET9G;AAAA,0BFS8GA,EET9G;AAAA;AAAA,sBFS8GA,EET9G;AAAA;AAAA,M;AFS8GA,IAAAA,EEP9G,2B;AFO8GA,IAAAA,EENhH,e;;;;mBFMgHA,E;AAAAA,IAAAA,EEPrG,a;AFOqGA,IAAAA,EEPrG,gD;;;;;;AFOqGA,IAAAA,EEzCpH,4B;AFyCoHA,IAAAA,EExClH,4B;AFwCkHA,IAAAA,EEvChH,uG;AFuCgHA,IAAAA,E;AAAAA,IAAAA,EEhClH,e;AFgCkHA,IAAAA,EE/BlH,2G;AF+BkHA,IAAAA,EExBlH,iG;AFwBkHA,IAAAA,EEblH,4B;AFakHA,IAAAA,EEZhH,uG;AFYgHA,IAAAA,E;AAAAA,IAAAA,EELlH,e;AFKkHA,IAAAA,EEJpH,e;;;;;mBFIoHA,E;AAAAA,IAAAA,EErC7G,a;AFqC6GA,IAAAA,EErC7G,oBFqC6GA,EErC7G,yD;AFqC6GA,IAAAA,EE5B/G,a;AF4B+GA,IAAAA,EE5B/G,qC;AF4B+GA,IAAAA,EExBnE,a;AFwBmEA,IAAAA,EExBnE,oC;AFwBmEA,IAAAA,EEV7G,a;AFU6GA,IAAAA,EEV7G,oBFU6GA,EEV7G,qD;;;;;;AFU6GA,IAAAA,EE1CtH,2B;AF0CsHA,IAAAA,EEzCpH,2F;AFyCoHA,IAAAA,E;AAAAA,IAAAA,EEHtH,wB;;;;mBFGsHA,E;AAAAA,IAAAA,EEzClF,a;AFyCkFA,IAAAA,EEzClF,oBFyCkFA,EEzClF,uC;;;;;;;;gBFyCkFA,E;;AAAAA,IAAAA,EG1CtH,2B;AH0CsHA,IAAAA,EGzCpH,iC;AHyCoHA,IAAAA,EGzCvF;AHyCuFA,MAAAA,EGzCvF;AAAA,qBHyCuFA,EGzCvF;AAAA,gCAAqB,IAArB;AAAA,M;AHyCuFA,IAAAA,EGzC3D,e;AHyC2DA,IAAAA,EGxCpH,sD;AHwCoHA,IAAAA,EGrClH;AHqCkHA,MAAAA,EGrClH;AAAA,qBHqCkHA,EGrClH;AAAA,gCAA2B,KAA3B;AAAA,M;AHqCkHA,IAAAA,EGpCnH,e;AHoCmHA,IAAAA,EGnCtH,wB;;;;;mBHmCsHA,E;AAAAA,IAAAA,EGzC1G,a;AHyC0GA,IAAAA,EGzC1G,iC;AHyC0GA,IAAAA,EGvClH,a;AHuCkHA,IAAAA,EGvClH,0F;;;;;;AHuCkHA,IAAAA,EGhCpH,+B;;;;sBHgCoHA,E;AAAAA,IAAAA,E;;gBAAAA,E;;AAAAA,IAAAA,EG7BlH,yE;;;;;;AH6BkHA,IAAAA,EGjCtH,2B;AHiCsHA,IAAAA,EGhCpH,oH;AHgCoHA,IAAAA,EGxBtH,wB;;;;;AHwBsHA,IAAAA,EG/BjH,a;AH+BiHA,IAAAA,EG/BjH,qC;;;;;;iBH+BiHA,E;;AAAAA,IAAAA,EGrBpH,iC;AHqBoHA,IAAAA,EGlBlH;AAAA,0BHkBkHA,EGlBlH;AAAA;AAAA,sBHkBkHA,EGlBlH;AAAA;AAAA,M;AHkBkHA,IAAAA,E;AAAAA,IAAAA,EGdpH,e;;;;;mBHcoHA,E;AAAAA,IAAAA,EGjBlH,0BHiBkHA,EGjBlH,wD;AHiBkHA,IAAAA,EGpBlH,4C;;;;AHVJ,MAAMyC,mCAAN,CAA0C;AA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","sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\n\nclass ProductImageZoomThumbnailsComponent {\n    constructor() {\n        this.mainMediaContainer = new BehaviorSubject({});\n        this.productImage = new EventEmitter();\n        this.subscription = new Subscription();\n    }\n    ngOnInit() {\n        this.subscription.add(this.activeThumb.subscribe((image) => {\n            this.mainMediaContainer.next(image);\n        }));\n    }\n    openImage(image) {\n        var _a;\n        this.mainMediaContainer.next(image);\n        if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n            this.productImage.emit({ image, index: image.zoom.galleryIndex });\n        }\n    }\n    isActive(thumbnail) {\n        return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map((container) => {\n            var _a, _b;\n            return (((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) &&\n                ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) &&\n                container.zoom.url === thumbnail.zoom.url);\n        }));\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\nProductImageZoomThumbnailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomThumbnailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: { thumbs$: \"thumbs$\", activeThumb: \"activeThumb\" }, outputs: { productImage: \"productImage\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"70px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-thumbnails',\n                    templateUrl: './product-image-zoom-thumbnails.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return []; }, propDecorators: { productImage: [{\n                type: Output\n            }], thumbs$: [{\n                type: Input\n            }], activeThumb: [{\n                type: Input\n            }] } });\n\nclass ProductImageZoomViewComponent {\n    constructor(currentProductService, renderer, cdRef, breakpointService) {\n        this.currentProductService = currentProductService;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.breakpointService = breakpointService;\n        this.iconType = ICON_TYPE;\n        this.mainMediaContainer = new BehaviorSubject(null);\n        this.defaultImageReady = new BehaviorSubject(false);\n        this.zoomReady = new BehaviorSubject(false);\n        this.subscription = new Subscription();\n        this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n        this.defaultImageReady$ = this.defaultImageReady.asObservable();\n        this.zoomReady$ = this.zoomReady.asObservable();\n        this.activeThumb = new EventEmitter();\n        this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n        this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.isZoomed = false;\n        this.product$ = this.currentProductService\n            .getProduct()\n            .pipe(filter(isNotNullable), distinctUntilChanged(), tap((p) => {\n            var _a, _b, _c, _d;\n            if (this.galleryIndex) {\n                const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY)\n                    ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find((img) => { var _a; return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex; })\n                    : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n                this.mainMediaContainer.next(image || null);\n            }\n            else {\n                this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n            }\n        }), shareReplay(1));\n        this.thumbnails$ = this.product$.pipe(map((p) => this.createThumbs(p)), shareReplay(1));\n        this.mainImage$ = combineLatest([\n            this.product$,\n            this.mainMediaContainer$,\n        ]).pipe(map(([, container]) => container));\n    }\n    get defaultImage() {\n        return this._defaultImage;\n    }\n    set defaultImage(el) {\n        if (el) {\n            this._defaultImage = el;\n            this.defaultImageReady.next(true);\n        }\n    }\n    get zoomImage() {\n        return this._zoomImage;\n    }\n    set zoomImage(el) {\n        if (el) {\n            this._zoomImage = el;\n            this.zoomReady.next(true);\n        }\n    }\n    ngOnInit() {\n        this.subscription.add(this.defaultImageClickHandler$.subscribe());\n        this.subscription.add(this.zoomImageClickHandler$.subscribe());\n    }\n    openImage(item) {\n        this.mainMediaContainer.next(item);\n        this.activeThumb.emit(item);\n    }\n    /** find the index of the main media in the list of media */\n    getActive() {\n        var _a, _b, _c, _d;\n        if (Array.isArray(this.mainMediaContainer.value)) {\n            return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n        }\n        return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n    }\n    getPreviousProduct(thumbs) {\n        const active = this.getActive();\n        if (active === 0) {\n            return thumbs[active];\n        }\n        return thumbs[active - 1];\n    }\n    getNextProduct(thumbs) {\n        const active = this.getActive();\n        if (active === thumbs.length - 1) {\n            return thumbs[active];\n        }\n        return thumbs[active + 1];\n    }\n    /**\n     * Zoom in or out of the image\n     */\n    zoom() {\n        this.isZoomed = !this.isZoomed;\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.cdRef.markForCheck();\n    }\n    /**\n     * Touch screen image pan\n     *\n     * @param event\n     */\n    touchMove(event) {\n        var _a, _b, _c, _d;\n        const touch = event.touches[0] || event.changedTouches[0];\n        const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n        const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n        if (!this.startCoords)\n            this.startCoords = { x: touch.clientX, y: touch.clientY };\n        this.left += touch.clientX - this.startCoords.x;\n        this.top += touch.clientY - this.startCoords.y;\n        this.moveImage(this.left, this.top, boundingRect, imageElement);\n        this.startCoords = { x: touch.clientX, y: touch.clientY };\n    }\n    /**\n     * Clears touch location\n     */\n    clearTouch() {\n        this.startCoords = null;\n    }\n    /**\n     * Pointer image pan\n     *\n     * @param event\n     */\n    pointerMove(event) {\n        const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n        const imageElement = this.zoomedImage.nativeElement.firstChild;\n        const { positionX, positionY } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n        this.moveImage(positionX, positionY, boundingRect, imageElement);\n    }\n    changeImage(event) {\n        this.mainMediaContainer.next(event.image);\n    }\n    /**\n     * Applies the offset from touchMove or pointerMove to the image element\n     *\n     * @param positionX\n     * @param positionY\n     * @param boundingRect\n     * @param imageElement\n     */\n    moveImage(positionX, positionY, boundingRect, imageElement) {\n        const { x, y } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n        if (imageElement) {\n            this.renderer.setStyle(imageElement, 'left', x + 'px');\n            this.renderer.setStyle(imageElement, 'top', y + 'px');\n        }\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    /**\n     * Returns click and dblclick event mapping for the given element\n     *\n     * @param element\n     */\n    clickOrDoubleClick(element) {\n        return [\n            fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)),\n            fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean)),\n        ];\n    }\n    /**\n     * Return an array of CarouselItems for the product thumbnails.\n     * In case there are less then 2 thumbs, we return null.\n     */\n    createThumbs(product) {\n        if (!product.images ||\n            !product.images.GALLERY ||\n            product.images.GALLERY.length < 2) {\n            return [];\n        }\n        const images = product.images.GALLERY;\n        return images.map((c) => of({ container: c }));\n    }\n    /**\n     * Keeps the zoom image from leaving the bounding container\n     *\n     * @param positionX\n     * @param positionY\n     * @param imageElement\n     * @param boundingRect\n     */\n    handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n        const paddingX = 60;\n        const paddingY = 60;\n        if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n            positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n        }\n        if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n            positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n        }\n        if (positionX <=\n            -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n            positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n        }\n        if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n            positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n        }\n        return { x: positionX, y: positionY };\n    }\n    /**\n     * Returns the position of the image based on the cursor pointer\n     *\n     * @param element\n     * @param clientX\n     * @param clientY\n     */\n    calculatePointerMovePosition(element, clientX, clientY) {\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        const x = clientX - boundingRect.left;\n        const y = clientY - boundingRect.top;\n        const positionX = -x + element.nativeElement.clientWidth / 2;\n        const positionY = -y + element.nativeElement.clientHeight / 2;\n        return { positionX, positionY };\n    }\n}\nProductImageZoomViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, deps: [{ token: i1.CurrentProductService }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.BreakpointService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: { galleryIndex: \"galleryIndex\" }, viewQueries: [{ propertyName: \"defaultImage\", first: true, predicate: [\"defaultImage\"], descendants: true, read: ElementRef }, { propertyName: \"zoomImage\", first: true, predicate: [\"zoomContainer\"], descendants: true, read: ElementRef }, { propertyName: \"zoomedImage\", first: true, predicate: [\"zoomedImage\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <div class=\\\"cx-main-image-group\\\" *ngIf=\\\"thumbnails$ | async as thumbs\\\">\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getPreviousProduct(thumbs) | async as previousProduct\\\"\\n        (click)=\\\"openImage(previousProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_LEFT\\\"></cx-icon>\\n      </button>\\n    </div>\\n    <cx-media\\n      #defaultImage\\n      class=\\\"cx-default-image-zoom\\\"\\n      *ngIf=\\\"!isZoomed\\\"\\n      [container]=\\\"main\\\"\\n    >\\n    </cx-media>\\n    <div #zoomContainer class=\\\"cx-zoom-container\\\" *ngIf=\\\"isZoomed\\\">\\n      <cx-media\\n        #zoomedImage\\n        class=\\\"cx-image-zoomed\\\"\\n        [container]=\\\"main\\\"\\n        (mousemove)=\\\"pointerMove($event)\\\"\\n        (touchmove)=\\\"touchMove($event)\\\"\\n        (touchend)=\\\"clearTouch()\\\"\\n      >\\n      </cx-media>\\n    </div>\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getNextProduct(thumbs) | async as nextProduct\\\"\\n        (click)=\\\"openImage(nextProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_RIGHT\\\"></cx-icon>\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<cx-product-image-zoom-thumbnails\\n  [thumbs$]=\\\"thumbnails$\\\"\\n  [activeThumb]=\\\"activeThumb\\\"\\n  (productImage)=\\\"changeImage($event)\\\"\\n></cx-product-image-zoom-thumbnails>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: [\"thumbs$\", \"activeThumb\"], outputs: [\"productImage\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-view',\n                    templateUrl: './product-image-zoom-view.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.BreakpointService }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], defaultImage: [{\n                type: ViewChild,\n                args: ['defaultImage', { read: ElementRef }]\n            }], zoomImage: [{\n                type: ViewChild,\n                args: ['zoomContainer', { read: ElementRef }]\n            }], zoomedImage: [{\n                type: ViewChild,\n                args: ['zoomedImage', { read: ElementRef }]\n            }] } });\n\nclass ProductImageZoomDialogComponent {\n    constructor(launchDialogService, el) {\n        this.launchDialogService = launchDialogService;\n        this.el = el;\n        this.iconType = ICON_TYPE;\n        this.focusConfig = {\n            trap: true,\n            block: true,\n            autofocus: 'button',\n            focusOnEscape: true,\n        };\n    }\n    handleClick(event) {\n        // Close on click outside the dialog window\n        if (event.target.tagName === this.el.nativeElement.tagName) {\n            this.close('Cross click');\n        }\n    }\n    close(reason = '') {\n        this.launchDialogService.closeDialog(reason);\n    }\n}\nProductImageZoomDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomDialogComponent, selector: \"cx-product-image-zoom-dialog\", inputs: { galleryIndex: \"galleryIndex\" }, host: { listeners: { \"click\": \"handleClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"cx-image-zoom-dialog\\\" [cxFocus]=\\\"focusConfig\\\">\\n  <div class=\\\"cx-dialog-content\\\">\\n    <div class=\\\"cx-dialog-header\\\">\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"close\\\"\\n        [attr.aria-label]=\\\"'productImageZoomDialog.close' | cxTranslate\\\"\\n        (click)=\\\"close('cross click')\\\"\\n      >\\n        <span aria-hidden=\\\"true\\\">\\n          <cx-icon [type]=\\\"iconType.CLOSE\\\"></cx-icon>\\n        </span>\\n      </button>\\n    </div>\\n    <div class=\\\"cx-dialog-body\\\">\\n      <cx-product-image-zoom-view\\n        [galleryIndex]=\\\"galleryIndex\\\"\\n      ></cx-product-image-zoom-view>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: [\"galleryIndex\"] }], directives: [{ type: i1.FocusDirective, selector: \"[cxFocus]\", inputs: [\"cxFocus\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-dialog',\n                    templateUrl: 'product-image-zoom-dialog.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ElementRef }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], handleClick: [{\n                type: HostListener,\n                args: ['click', ['$event']]\n            }] } });\n\nconst defaultProductImageZoomLayoutConfig = {\n    launch: {\n        PRODUCT_IMAGE_ZOOM: {\n            inline: true,\n            component: ProductImageZoomDialogComponent,\n            dialogType: DIALOG_TYPE.DIALOG,\n        },\n    },\n};\n\nclass ProductImageZoomTriggerComponent {\n    constructor(launchDialogService, vcr) {\n        this.launchDialogService = launchDialogService;\n        this.vcr = vcr;\n        this.iconType = ICON_TYPE;\n        this.subscriptions = new Subscription();\n        this.dialogClose = new EventEmitter();\n    }\n    set expandImage(expand) {\n        if (expand) {\n            this.triggerZoom();\n        }\n    }\n    triggerZoom() {\n        const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */, this.vcr);\n        if (component) {\n            this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose])\n                .pipe(tap(([comp]) => {\n                if (this.galleryIndex) {\n                    comp.instance.galleryIndex = this.galleryIndex;\n                }\n            }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n                this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */);\n                comp === null || comp === void 0 ? void 0 : comp.destroy();\n                this.dialogClose.emit();\n                this.expandButton.nativeElement.focus();\n            }))\n                .subscribe());\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nProductImageZoomTriggerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomTriggerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: { galleryIndex: \"galleryIndex\", expandImage: \"expandImage\" }, outputs: { dialogClose: \"dialogClose\" }, viewQueries: [{ propertyName: \"expandButton\", first: true, predicate: [\"expandButton\"], descendants: true }], ngImport: i0, template: \"<button\\n  #expandButton\\n  class=\\\"btn btn-link cx-action-link\\\"\\n  (click)=\\\"triggerZoom()\\\"\\n>\\n  <span>\\n    {{ 'productImageZoomTrigger.expand' | cxTranslate }}\\n    <cx-icon [type]=\\\"iconType.EXPAND_ARROWS\\\"></cx-icon\\n  ></span>\\n</button>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-trigger',\n                    templateUrl: 'product-image-zoom-trigger.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ViewContainerRef }]; }, propDecorators: { expandButton: [{\n                type: ViewChild,\n                args: ['expandButton']\n            }], galleryIndex: [{\n                type: Input\n            }], expandImage: [{\n                type: Input\n            }], dialogClose: [{\n                type: Output\n            }] } });\n\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n    constructor(currentProductService) {\n        super(currentProductService);\n        this.currentProductService = currentProductService;\n        this.expandImage = new BehaviorSubject(false);\n    }\n    openImage(item) {\n        var _a, _b;\n        this.mainMediaContainer.next(item);\n        this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n    }\n    /**\n     * Opens image zoom dialog.\n     */\n    triggerZoom(value) {\n        this.expandImage.next(value);\n    }\n}\nProductImageZoomProductImagesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, deps: [{ token: i1.CurrentProductService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomProductImagesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomProductImagesComponent, selector: \"cx-product-images\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <cx-media [container]=\\\"main\\\" (click)=\\\"triggerZoom(true)\\\"></cx-media>\\n  <cx-product-image-zoom-trigger\\n    [expandImage]=\\\"expandImage.value\\\"\\n    [galleryIndex]=\\\"selectedIndex\\\"\\n    (dialogClose)=\\\"triggerZoom(false)\\\"\\n  ></cx-product-image-zoom-trigger>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"120px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n    format=\\\"product\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: [\"galleryIndex\", \"expandImage\"], outputs: [\"dialogClose\"] }, { type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-images',\n                    templateUrl: './product-image-zoom-product-images.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }]; } });\n\nclass ProductImageZoomModule {\n}\nProductImageZoomModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, declarations: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent], imports: [CarouselModule,\n        CommonModule,\n        I18nModule,\n        IconModule,\n        KeyboardFocusModule,\n        MediaModule,\n        OutletModule,\n        RouterModule], exports: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent] });\nProductImageZoomModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, providers: [\n        provideConfig(defaultProductImageZoomLayoutConfig),\n        provideDefaultConfig({\n            cmsComponents: {\n                ProductImagesComponent: {\n                    component: ProductImageZoomProductImagesComponent,\n                },\n            },\n        }),\n    ], imports: [[\n            CarouselModule,\n            CommonModule,\n            I18nModule,\n            IconModule,\n            KeyboardFocusModule,\n            MediaModule,\n            OutletModule,\n            RouterModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CarouselModule,\n                        CommonModule,\n                        I18nModule,\n                        IconModule,\n                        KeyboardFocusModule,\n                        MediaModule,\n                        OutletModule,\n                        RouterModule,\n                    ],\n                    providers: [\n                        provideConfig(defaultProductImageZoomLayoutConfig),\n                        provideDefaultConfig({\n                            cmsComponents: {\n                                ProductImagesComponent: {\n                                    component: ProductImageZoomProductImagesComponent,\n                                },\n                            },\n                        }),\n                    ],\n                    declarations: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                    exports: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                }]\n        }] });\n\nclass ProductImageZoomComponentsModule {\n}\nProductImageZoomComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [ProductImageZoomModule] });\nProductImageZoomComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [[ProductImageZoomModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductImageZoomModule],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };\n//# sourceMappingURL=spartacus-product-image-zoom-components.js.map\n",null,null,null,null,null]},"metadata":{},"sourceType":"module"}