{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Optional, Input, NgModule } from '@angular/core';\nimport * as i1 from '@spartacus/core';\nimport { VariantQualifier, UrlModule, I18nModule, provideDefaultConfigFactory } from '@spartacus/core';\nimport * as i2 from '@spartacus/storefront';\nimport { ProductListOutlets, provideOutlet, OutletPosition } from '@spartacus/storefront';\nimport { Subscription, EMPTY } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nfunction ProductVariantStyleIconsComponent_ul_0_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelement(1, \"img\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const v_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"src\", ctx_r1.getVariantThumbnailUrl(v_r2.variantOptionQualifiers), i0.ɵɵsanitizeUrl)(\"title\", ctx_r1.variantNames[v_r2.code])(\"alt\", ctx_r1.variantNames[v_r2.code]);\n  }\n}\n\nfunction ProductVariantStyleIconsComponent_ul_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 1);\n    i0.ɵɵtemplate(1, ProductVariantStyleIconsComponent_ul_0_li_1_Template, 2, 3, \"li\", 2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.variants);\n  }\n}\n\nconst PRODUCT_VARIANTS_FEATURE = 'productVariants';\n\nclass ProductVariantStyleIconsComponent {\n  constructor(config, productListItemContext) {\n    var _a, _b;\n\n    this.config = config;\n    this.productListItemContext = productListItemContext;\n    this.subscriptions = new Subscription();\n    this.ProductListOutlets = ProductListOutlets;\n    this.product$ = (_b = (_a = this.productListItemContext) === null || _a === void 0 ? void 0 : _a.product$) !== null && _b !== void 0 ? _b : EMPTY;\n    this.variantNames = {};\n  }\n\n  ngOnInit() {\n    this.setVariantsNames();\n    this.subscriptions.add(this.product$.subscribe(product => {\n      if (product.variantOptions && product.variantOptions.length) {\n        this.variants = product.variantOptions;\n        this.setVariantsNames();\n      }\n    }));\n  }\n\n  setVariantsNames() {\n    var _a;\n\n    (_a = this.variants) === null || _a === void 0 ? void 0 : _a.forEach(variant => {\n      if (variant.code && variant.variantOptionQualifiers) {\n        this.variantNames[variant.code] = this.getVariantName(variant.variantOptionQualifiers) || '';\n      }\n    });\n  }\n\n  getVariantThumbnailUrl(variantOptionQualifiers) {\n    var _a, _b, _c, _d;\n\n    const thumbnail = variantOptionQualifiers.find(item => item.qualifier === VariantQualifier.THUMBNAIL);\n    return thumbnail ? `${(_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.backend) === null || _b === void 0 ? void 0 : _b.occ) === null || _c === void 0 ? void 0 : _c.baseUrl}${(_d = thumbnail.image) === null || _d === void 0 ? void 0 : _d.url}` : '';\n  }\n\n  getVariantName(variantOptionQualifiers) {\n    const rollupProperty = variantOptionQualifiers.find(item => item.qualifier === VariantQualifier.ROLLUP_PROPERTY);\n    const property = rollupProperty ? variantOptionQualifiers.find(item => item.qualifier === rollupProperty.value) : null;\n    return property ? property.value : '';\n  }\n\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n\n}\n\nProductVariantStyleIconsComponent.ɵfac = function ProductVariantStyleIconsComponent_Factory(t) {\n  return new (t || ProductVariantStyleIconsComponent)(i0.ɵɵdirectiveInject(i1.OccConfig), i0.ɵɵdirectiveInject(i2.ProductListItemContext, 8));\n};\n\nProductVariantStyleIconsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductVariantStyleIconsComponent,\n  selectors: [[\"cx-variant-style-icons\"]],\n  inputs: {\n    variants: \"variants\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"variant-list\", 4, \"ngIf\"], [1, \"variant-list\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function ProductVariantStyleIconsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductVariantStyleIconsComponent_ul_0_Template, 2, 1, \"ul\", 0);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.variants && ctx.variants.length);\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf],\n  styles: [\"ul[_ngcontent-%COMP%]{padding:0;white-space:nowrap;overflow:hidden}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}\"],\n  changeDetection: 0\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantStyleIconsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-variant-style-icons',\n      templateUrl: './product-variant-style-icons.component.html',\n      styleUrls: ['./product-variant-style-icons.component.scss'],\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.OccConfig\n    }, {\n      type: i2.ProductListItemContext,\n      decorators: [{\n        type: Optional\n      }]\n    }];\n  }, {\n    variants: [{\n      type: Input\n    }]\n  });\n})();\n\nclass ProductVariantStyleIconsModule {}\n\nProductVariantStyleIconsModule.ɵfac = function ProductVariantStyleIconsModule_Factory(t) {\n  return new (t || ProductVariantStyleIconsModule)();\n};\n\nProductVariantStyleIconsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantStyleIconsModule\n});\nProductVariantStyleIconsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[CommonModule, RouterModule, UrlModule, I18nModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantStyleIconsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n      declarations: [ProductVariantStyleIconsComponent],\n      exports: [ProductVariantStyleIconsComponent]\n    }]\n  }], null, null);\n})(); // TODO: Inline this factory when we start releasing Ivy compiled libraries\n\n\nfunction defaultProductVariantsComponentsConfig() {\n  const config = {\n    featureModules: {\n      [PRODUCT_VARIANTS_FEATURE]: {\n        cmsComponents: ['ProductVariantSelectorComponent']\n      }\n    }\n  };\n  return config;\n}\n\nclass ProductVariantsRootModule {}\n\nProductVariantsRootModule.ɵfac = function ProductVariantsRootModule_Factory(t) {\n  return new (t || ProductVariantsRootModule)();\n};\n\nProductVariantsRootModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductVariantsRootModule\n});\nProductVariantsRootModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfigFactory(defaultProductVariantsComponentsConfig), provideOutlet({\n    id: ProductListOutlets.ITEM_DETAILS,\n    position: OutletPosition.AFTER,\n    component: ProductVariantStyleIconsComponent\n  })],\n  imports: [[ProductVariantStyleIconsModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductVariantsRootModule, [{\n    type: NgModule,\n    args: [{\n      imports: [ProductVariantStyleIconsModule],\n      providers: [provideDefaultConfigFactory(defaultProductVariantsComponentsConfig), provideOutlet({\n        id: ProductListOutlets.ITEM_DETAILS,\n        position: OutletPosition.AFTER,\n        component: ProductVariantStyleIconsComponent\n      })]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { PRODUCT_VARIANTS_FEATURE, ProductVariantStyleIconsComponent, ProductVariantStyleIconsModule, ProductVariantsRootModule, defaultProductVariantsComponentsConfig }; //# sourceMappingURL=spartacus-product-variants-root.js.map","map":{"version":3,"sources":["D:/spartacus/front-store/node_modules/@spartacus/product/fesm2015/spartacus-product-variants-root.js","D:/spartacus/front-store/node_modules/feature-libs/product/variants/root/components/variant-style-icons/product-variant-style-icons.component.html"],"names":["i0","Component","ChangeDetectionStrategy","Optional","Input","NgModule","i1","VariantQualifier","UrlModule","I18nModule","provideDefaultConfigFactory","i2","ProductListOutlets","provideOutlet","OutletPosition","Subscription","EMPTY","i3","CommonModule","RouterModule","PRODUCT_VARIANTS_FEATURE","ProductVariantStyleIconsComponent","constructor","config","productListItemContext","_a","_b","subscriptions","product$","variantNames","ngOnInit","setVariantsNames","add","subscribe","product","variantOptions","length","variants","forEach","variant","code","variantOptionQualifiers","getVariantName","getVariantThumbnailUrl","_c","_d","thumbnail","find","item","qualifier","THUMBNAIL","backend","occ","baseUrl","image","url","rollupProperty","ROLLUP_PROPERTY","property","value","ngOnDestroy","unsubscribe","ɵfac","OccConfig","ProductListItemContext","ɵcmp","NgIf","NgForOf","type","args","selector","templateUrl","styleUrls","changeDetection","OnPush","decorators","ProductVariantStyleIconsModule","ɵmod","ɵinj","imports","declarations","exports","defaultProductVariantsComponentsConfig","featureModules","cmsComponents","ProductVariantsRootModule","id","ITEM_DETAILS","position","AFTER","component","providers"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Component, ChangeDetectionStrategy, Optional, Input, NgModule } from '@angular/core';\nimport * as i1 from '@spartacus/core';\nimport { VariantQualifier, UrlModule, I18nModule, provideDefaultConfigFactory } from '@spartacus/core';\nimport * as i2 from '@spartacus/storefront';\nimport { ProductListOutlets, provideOutlet, OutletPosition } from '@spartacus/storefront';\nimport { Subscription, EMPTY } from 'rxjs';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nconst PRODUCT_VARIANTS_FEATURE = 'productVariants';\n\nclass ProductVariantStyleIconsComponent {\n    constructor(config, productListItemContext) {\n        var _a, _b;\n        this.config = config;\n        this.productListItemContext = productListItemContext;\n        this.subscriptions = new Subscription();\n        this.ProductListOutlets = ProductListOutlets;\n        this.product$ = (_b = (_a = this.productListItemContext) === null || _a === void 0 ? void 0 : _a.product$) !== null && _b !== void 0 ? _b : EMPTY;\n        this.variantNames = {};\n    }\n    ngOnInit() {\n        this.setVariantsNames();\n        this.subscriptions.add(this.product$.subscribe((product) => {\n            if (product.variantOptions && product.variantOptions.length) {\n                this.variants = product.variantOptions;\n                this.setVariantsNames();\n            }\n        }));\n    }\n    setVariantsNames() {\n        var _a;\n        (_a = this.variants) === null || _a === void 0 ? void 0 : _a.forEach((variant) => {\n            if (variant.code && variant.variantOptionQualifiers) {\n                this.variantNames[variant.code] =\n                    this.getVariantName(variant.variantOptionQualifiers) || '';\n            }\n        });\n    }\n    getVariantThumbnailUrl(variantOptionQualifiers) {\n        var _a, _b, _c, _d;\n        const thumbnail = variantOptionQualifiers.find((item) => item.qualifier === VariantQualifier.THUMBNAIL);\n        return thumbnail\n            ? `${(_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.backend) === null || _b === void 0 ? void 0 : _b.occ) === null || _c === void 0 ? void 0 : _c.baseUrl}${(_d = thumbnail.image) === null || _d === void 0 ? void 0 : _d.url}`\n            : '';\n    }\n    getVariantName(variantOptionQualifiers) {\n        const rollupProperty = variantOptionQualifiers.find((item) => item.qualifier === VariantQualifier.ROLLUP_PROPERTY);\n        const property = rollupProperty\n            ? variantOptionQualifiers.find((item) => item.qualifier === rollupProperty.value)\n            : null;\n        return property ? property.value : '';\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nProductVariantStyleIconsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsComponent, deps: [{ token: i1.OccConfig }, { token: i2.ProductListItemContext, optional: true }], target: i0.ɵɵFactoryTarget.Component });\nProductVariantStyleIconsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductVariantStyleIconsComponent, selector: \"cx-variant-style-icons\", inputs: { variants: \"variants\" }, ngImport: i0, template: \"<ul class=\\\"variant-list\\\" *ngIf=\\\"variants && variants.length\\\">\\n  <li *ngFor=\\\"let v of variants\\\">\\n    <img\\n      [attr.src]=\\\"getVariantThumbnailUrl(v.variantOptionQualifiers)\\\"\\n      [attr.title]=\\\"variantNames[v.code]\\\"\\n      [attr.alt]=\\\"variantNames[v.code]\\\"\\n    />\\n  </li>\\n</ul>\\n\", styles: [\"ul{padding:0;white-space:nowrap;overflow:hidden}ul li{display:inline}ul li img{width:50px}\"], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i3.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-variant-style-icons',\n                    templateUrl: './product-variant-style-icons.component.html',\n                    styleUrls: ['./product-variant-style-icons.component.scss'],\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.OccConfig }, { type: i2.ProductListItemContext, decorators: [{\n                    type: Optional\n                }] }]; }, propDecorators: { variants: [{\n                type: Input\n            }] } });\n\nclass ProductVariantStyleIconsModule {\n}\nProductVariantStyleIconsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantStyleIconsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsModule, declarations: [ProductVariantStyleIconsComponent], imports: [CommonModule, RouterModule, UrlModule, I18nModule], exports: [ProductVariantStyleIconsComponent] });\nProductVariantStyleIconsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsModule, imports: [[CommonModule, RouterModule, UrlModule, I18nModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantStyleIconsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, RouterModule, UrlModule, I18nModule],\n                    declarations: [ProductVariantStyleIconsComponent],\n                    exports: [ProductVariantStyleIconsComponent],\n                }]\n        }] });\n\n// TODO: Inline this factory when we start releasing Ivy compiled libraries\nfunction defaultProductVariantsComponentsConfig() {\n    const config = {\n        featureModules: {\n            [PRODUCT_VARIANTS_FEATURE]: {\n                cmsComponents: ['ProductVariantSelectorComponent'],\n            },\n        },\n    };\n    return config;\n}\nclass ProductVariantsRootModule {\n}\nProductVariantsRootModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsRootModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductVariantsRootModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsRootModule, imports: [ProductVariantStyleIconsModule] });\nProductVariantsRootModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsRootModule, providers: [\n        provideDefaultConfigFactory(defaultProductVariantsComponentsConfig),\n        provideOutlet({\n            id: ProductListOutlets.ITEM_DETAILS,\n            position: OutletPosition.AFTER,\n            component: ProductVariantStyleIconsComponent,\n        }),\n    ], imports: [[ProductVariantStyleIconsModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductVariantsRootModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductVariantStyleIconsModule],\n                    providers: [\n                        provideDefaultConfigFactory(defaultProductVariantsComponentsConfig),\n                        provideOutlet({\n                            id: ProductListOutlets.ITEM_DETAILS,\n                            position: OutletPosition.AFTER,\n                            component: ProductVariantStyleIconsComponent,\n                        }),\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { PRODUCT_VARIANTS_FEATURE, ProductVariantStyleIconsComponent, ProductVariantStyleIconsModule, ProductVariantsRootModule, defaultProductVariantsComponentsConfig };\n//# sourceMappingURL=spartacus-product-variants-root.js.map\n",null]},"metadata":{},"sourceType":"module"}