{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { PRODUCT_NORMALIZER, OCC_USER_ID_ANONYMOUS, InterceptorUtil, USE_CLIENT_TOKEN, ORDER_NORMALIZER, OCC_USER_ID_CURRENT, REPLENISHMENT_ORDER_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { ORDER_HISTORY_NORMALIZER, CONSIGNMENT_TRACKING_NORMALIZER, ORDER_RETURN_REQUEST_INPUT_SERIALIZER, ORDER_RETURN_REQUEST_NORMALIZER, ORDER_RETURNS_NORMALIZER, REPLENISHMENT_ORDER_HISTORY_NORMALIZER, OrderAdapter, ReplenishmentOrderAdapter } from '@spartacus/order/core';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\n\nclass OccReturnRequestNormalizer {\n  constructor(converter) {\n    this.converter = converter;\n  }\n\n  convert(source, target) {\n    if (target === undefined) {\n      target = Object.assign({}, source);\n    }\n\n    if (source.returnEntries) {\n      target.returnEntries = source.returnEntries.map(entry => Object.assign(Object.assign({}, entry), {\n        orderEntry: this.convertOrderEntry(entry.orderEntry)\n      }));\n    }\n\n    return target;\n  }\n\n  convertOrderEntry(source) {\n    return Object.assign(Object.assign({}, source), {\n      product: this.converter.convert(source === null || source === void 0 ? void 0 : source.product, PRODUCT_NORMALIZER)\n    });\n  }\n\n}\n\nOccReturnRequestNormalizer.ɵfac = function OccReturnRequestNormalizer_Factory(t) {\n  return new (t || OccReturnRequestNormalizer)(i0.ɵɵinject(i2.ConverterService));\n};\n\nOccReturnRequestNormalizer.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OccReturnRequestNormalizer,\n  factory: OccReturnRequestNormalizer.ɵfac,\n  providedIn: 'root'\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OccReturnRequestNormalizer, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i2.ConverterService\n    }];\n  }, null);\n})();\n\nclass OccOrderAdapter {\n  constructor(http, occEndpoints, converter) {\n    this.http = http;\n    this.occEndpoints = occEndpoints;\n    this.converter = converter;\n  }\n\n  load(userId, orderCode) {\n    const url = this.occEndpoints.buildUrl('orderDetail', {\n      urlParams: {\n        userId,\n        orderId: orderCode\n      }\n    });\n    let headers = new HttpHeaders();\n\n    if (userId === OCC_USER_ID_ANONYMOUS) {\n      headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n    }\n\n    return this.http.get(url, {\n      headers\n    }).pipe(this.converter.pipeable(ORDER_NORMALIZER));\n  }\n\n  loadHistory(userId, pageSize, currentPage, sort) {\n    const params = {};\n\n    if (pageSize) {\n      params['pageSize'] = pageSize.toString();\n    }\n\n    if (currentPage) {\n      params['currentPage'] = currentPage.toString();\n    }\n\n    if (sort) {\n      params['sort'] = sort.toString();\n    }\n\n    const url = this.occEndpoints.buildUrl('orderHistory', {\n      urlParams: {\n        userId\n      },\n      queryParams: params\n    });\n    return this.http.get(url).pipe(this.converter.pipeable(ORDER_HISTORY_NORMALIZER));\n  }\n\n  getConsignmentTracking(orderCode, consignmentCode, userId = OCC_USER_ID_CURRENT) {\n    const url = this.occEndpoints.buildUrl('consignmentTracking', {\n      urlParams: {\n        userId,\n        orderCode,\n        consignmentCode\n      }\n    });\n    return this.http.get(url).pipe(this.converter.pipeable(CONSIGNMENT_TRACKING_NORMALIZER));\n  }\n\n  cancel(userId, orderCode, cancelRequestInput) {\n    const url = this.occEndpoints.buildUrl('cancelOrder', {\n      urlParams: {\n        userId,\n        orderId: orderCode\n      }\n    });\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    return this.http.post(url, cancelRequestInput, {\n      headers\n    }).pipe(catchError(error => throwError(error)));\n  }\n\n  createReturnRequest(userId, returnRequestInput) {\n    const url = this.occEndpoints.buildUrl('returnOrder', {\n      urlParams: {\n        userId\n      }\n    });\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    returnRequestInput = this.converter.convert(returnRequestInput, ORDER_RETURN_REQUEST_INPUT_SERIALIZER);\n    return this.http.post(url, returnRequestInput, {\n      headers\n    }).pipe(catchError(error => throwError(error)), this.converter.pipeable(ORDER_RETURN_REQUEST_NORMALIZER));\n  }\n\n  loadReturnRequestList(userId, pageSize, currentPage, sort) {\n    const params = {};\n\n    if (pageSize) {\n      params['pageSize'] = pageSize.toString();\n    }\n\n    if (currentPage) {\n      params['currentPage'] = currentPage.toString();\n    }\n\n    if (sort) {\n      params['sort'] = sort.toString();\n    }\n\n    const url = this.occEndpoints.buildUrl('orderReturns', {\n      urlParams: {\n        userId\n      },\n      queryParams: params\n    });\n    return this.http.get(url).pipe(this.converter.pipeable(ORDER_RETURNS_NORMALIZER));\n  }\n\n  loadReturnRequestDetail(userId, returnRequestCode) {\n    const url = this.occEndpoints.buildUrl('orderReturnDetail', {\n      urlParams: {\n        userId,\n        returnRequestCode\n      }\n    });\n    return this.http.get(url).pipe(this.converter.pipeable(ORDER_RETURN_REQUEST_NORMALIZER));\n  }\n\n  cancelReturnRequest(userId, returnRequestCode, returnRequestModification) {\n    const url = this.occEndpoints.buildUrl('cancelReturn', {\n      urlParams: {\n        userId,\n        returnRequestCode\n      }\n    });\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    return this.http.patch(url, returnRequestModification, {\n      headers\n    }).pipe(catchError(error => throwError(error)));\n  }\n\n}\n\nOccOrderAdapter.ɵfac = function OccOrderAdapter_Factory(t) {\n  return new (t || OccOrderAdapter)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.OccEndpointsService), i0.ɵɵinject(i2.ConverterService));\n};\n\nOccOrderAdapter.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OccOrderAdapter,\n  factory: OccOrderAdapter.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OccOrderAdapter, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2.OccEndpointsService\n    }, {\n      type: i2.ConverterService\n    }];\n  }, null);\n})();\n\nclass OccReplenishmentOrderAdapter {\n  constructor(http, occEndpoints, converter) {\n    this.http = http;\n    this.occEndpoints = occEndpoints;\n    this.converter = converter;\n  }\n\n  load(userId, replenishmentOrderCode) {\n    return this.http.get(this.occEndpoints.buildUrl('replenishmentOrderDetails', {\n      urlParams: {\n        userId,\n        replenishmentOrderCode\n      }\n    })).pipe(this.converter.pipeable(REPLENISHMENT_ORDER_NORMALIZER));\n  }\n\n  loadReplenishmentDetailsHistory(userId, replenishmentOrderCode, pageSize, currentPage, sort) {\n    const params = {};\n\n    if (pageSize) {\n      params['pageSize'] = pageSize.toString();\n    }\n\n    if (currentPage) {\n      params['currentPage'] = currentPage.toString();\n    }\n\n    if (sort) {\n      params['sort'] = sort.toString();\n    }\n\n    return this.http.get(this.occEndpoints.buildUrl('replenishmentOrderDetailsHistory', {\n      urlParams: {\n        userId,\n        replenishmentOrderCode\n      },\n      queryParams: params\n    })).pipe(this.converter.pipeable(ORDER_HISTORY_NORMALIZER));\n  }\n\n  cancelReplenishmentOrder(userId, replenishmentOrderCode) {\n    const headers = new HttpHeaders().set('Content-Type', 'application/json');\n    return this.http.patch(this.occEndpoints.buildUrl('cancelReplenishmentOrder', {\n      urlParams: {\n        userId,\n        replenishmentOrderCode\n      }\n    }), {}, {\n      headers\n    }).pipe(this.converter.pipeable(REPLENISHMENT_ORDER_NORMALIZER));\n  }\n\n  loadHistory(userId, pageSize, currentPage, sort) {\n    const params = {};\n\n    if (pageSize) {\n      params['pageSize'] = pageSize.toString();\n    }\n\n    if (currentPage) {\n      params['currentPage'] = currentPage.toString();\n    }\n\n    if (sort) {\n      params['sort'] = sort.toString();\n    }\n\n    const url = this.occEndpoints.buildUrl('replenishmentOrderHistory', {\n      urlParams: {\n        userId\n      },\n      queryParams: params\n    });\n    return this.http.get(url).pipe(this.converter.pipeable(REPLENISHMENT_ORDER_HISTORY_NORMALIZER));\n  }\n\n}\n\nOccReplenishmentOrderAdapter.ɵfac = function OccReplenishmentOrderAdapter_Factory(t) {\n  return new (t || OccReplenishmentOrderAdapter)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.OccEndpointsService), i0.ɵɵinject(i2.ConverterService));\n};\n\nOccReplenishmentOrderAdapter.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OccReplenishmentOrderAdapter,\n  factory: OccReplenishmentOrderAdapter.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OccReplenishmentOrderAdapter, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2.OccEndpointsService\n    }, {\n      type: i2.ConverterService\n    }];\n  }, null);\n})(); // Imported for side effects (module augmentation)\n\n\nconst defaultOccOrderConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        /* eslint-disable max-len */\n        orderHistory: 'users/${userId}/orders',\n        orderDetail: 'users/${userId}/orders/${orderId}?fields=FULL',\n        consignmentTracking: 'users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking',\n        cancelOrder: 'users/${userId}/orders/${orderId}/cancellation',\n        returnOrder: 'users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)',\n        orderReturns: 'users/${userId}/orderReturns?fields=BASIC',\n        orderReturnDetail: 'users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)',\n        cancelReturn: 'users/${userId}/orderReturns/${returnRequestCode}'\n        /* eslint-enable */\n\n      }\n    }\n  }\n};\n\nclass OrderOccModule {}\n\nOrderOccModule.ɵfac = function OrderOccModule_Factory(t) {\n  return new (t || OrderOccModule)();\n};\n\nOrderOccModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: OrderOccModule\n});\nOrderOccModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfig(defaultOccOrderConfig), {\n    provide: OrderAdapter,\n    useClass: OccOrderAdapter\n  }, {\n    provide: ReplenishmentOrderAdapter,\n    useClass: OccReplenishmentOrderAdapter\n  }, {\n    provide: ORDER_RETURN_REQUEST_NORMALIZER,\n    useExisting: OccReturnRequestNormalizer,\n    multi: true\n  }],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OrderOccModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      providers: [provideDefaultConfig(defaultOccOrderConfig), {\n        provide: OrderAdapter,\n        useClass: OccOrderAdapter\n      }, {\n        provide: ReplenishmentOrderAdapter,\n        useClass: OccReplenishmentOrderAdapter\n      }, {\n        provide: ORDER_RETURN_REQUEST_NORMALIZER,\n        useExisting: OccReturnRequestNormalizer,\n        multi: true\n      }]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { OccOrderAdapter, OccReplenishmentOrderAdapter, OccReturnRequestNormalizer, OrderOccModule }; //# sourceMappingURL=spartacus-order-occ.js.map","map":{"version":3,"sources":["D:/spartacus/front-store/node_modules/@spartacus/order/fesm2015/spartacus-order-occ.js"],"names":["i0","Injectable","NgModule","i2","PRODUCT_NORMALIZER","OCC_USER_ID_ANONYMOUS","InterceptorUtil","USE_CLIENT_TOKEN","ORDER_NORMALIZER","OCC_USER_ID_CURRENT","REPLENISHMENT_ORDER_NORMALIZER","provideDefaultConfig","i1","HttpHeaders","ORDER_HISTORY_NORMALIZER","CONSIGNMENT_TRACKING_NORMALIZER","ORDER_RETURN_REQUEST_INPUT_SERIALIZER","ORDER_RETURN_REQUEST_NORMALIZER","ORDER_RETURNS_NORMALIZER","REPLENISHMENT_ORDER_HISTORY_NORMALIZER","OrderAdapter","ReplenishmentOrderAdapter","throwError","catchError","CommonModule","OccReturnRequestNormalizer","constructor","converter","convert","source","target","undefined","Object","assign","returnEntries","map","entry","orderEntry","convertOrderEntry","product","ɵfac","ConverterService","ɵprov","type","args","providedIn","OccOrderAdapter","http","occEndpoints","load","userId","orderCode","url","buildUrl","urlParams","orderId","headers","createHeader","get","pipe","pipeable","loadHistory","pageSize","currentPage","sort","params","toString","queryParams","getConsignmentTracking","consignmentCode","cancel","cancelRequestInput","post","error","createReturnRequest","returnRequestInput","loadReturnRequestList","loadReturnRequestDetail","returnRequestCode","cancelReturnRequest","returnRequestModification","patch","HttpClient","OccEndpointsService","OccReplenishmentOrderAdapter","replenishmentOrderCode","loadReplenishmentDetailsHistory","cancelReplenishmentOrder","set","defaultOccOrderConfig","backend","occ","endpoints","orderHistory","orderDetail","consignmentTracking","cancelOrder","returnOrder","orderReturns","orderReturnDetail","cancelReturn","OrderOccModule","ɵmod","ɵinj","provide","useClass","useExisting","multi","imports","providers"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { PRODUCT_NORMALIZER, OCC_USER_ID_ANONYMOUS, InterceptorUtil, USE_CLIENT_TOKEN, ORDER_NORMALIZER, OCC_USER_ID_CURRENT, REPLENISHMENT_ORDER_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@angular/common/http';\nimport { HttpHeaders } from '@angular/common/http';\nimport { ORDER_HISTORY_NORMALIZER, CONSIGNMENT_TRACKING_NORMALIZER, ORDER_RETURN_REQUEST_INPUT_SERIALIZER, ORDER_RETURN_REQUEST_NORMALIZER, ORDER_RETURNS_NORMALIZER, REPLENISHMENT_ORDER_HISTORY_NORMALIZER, OrderAdapter, ReplenishmentOrderAdapter } from '@spartacus/order/core';\nimport { throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\n\nclass OccReturnRequestNormalizer {\n    constructor(converter) {\n        this.converter = converter;\n    }\n    convert(source, target) {\n        if (target === undefined) {\n            target = Object.assign({}, source);\n        }\n        if (source.returnEntries) {\n            target.returnEntries = source.returnEntries.map((entry) => (Object.assign(Object.assign({}, entry), { orderEntry: this.convertOrderEntry(entry.orderEntry) })));\n        }\n        return target;\n    }\n    convertOrderEntry(source) {\n        return Object.assign(Object.assign({}, source), { product: this.converter.convert(source === null || source === void 0 ? void 0 : source.product, PRODUCT_NORMALIZER) });\n    }\n}\nOccReturnRequestNormalizer.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReturnRequestNormalizer, deps: [{ token: i2.ConverterService }], target: i0.ɵɵFactoryTarget.Injectable });\nOccReturnRequestNormalizer.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReturnRequestNormalizer, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReturnRequestNormalizer, decorators: [{\n            type: Injectable,\n            args: [{ providedIn: 'root' }]\n        }], ctorParameters: function () { return [{ type: i2.ConverterService }]; } });\n\nclass OccOrderAdapter {\n    constructor(http, occEndpoints, converter) {\n        this.http = http;\n        this.occEndpoints = occEndpoints;\n        this.converter = converter;\n    }\n    load(userId, orderCode) {\n        const url = this.occEndpoints.buildUrl('orderDetail', {\n            urlParams: { userId, orderId: orderCode },\n        });\n        let headers = new HttpHeaders();\n        if (userId === OCC_USER_ID_ANONYMOUS) {\n            headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n        }\n        return this.http\n            .get(url, { headers })\n            .pipe(this.converter.pipeable(ORDER_NORMALIZER));\n    }\n    loadHistory(userId, pageSize, currentPage, sort) {\n        const params = {};\n        if (pageSize) {\n            params['pageSize'] = pageSize.toString();\n        }\n        if (currentPage) {\n            params['currentPage'] = currentPage.toString();\n        }\n        if (sort) {\n            params['sort'] = sort.toString();\n        }\n        const url = this.occEndpoints.buildUrl('orderHistory', {\n            urlParams: { userId },\n            queryParams: params,\n        });\n        return this.http\n            .get(url)\n            .pipe(this.converter.pipeable(ORDER_HISTORY_NORMALIZER));\n    }\n    getConsignmentTracking(orderCode, consignmentCode, userId = OCC_USER_ID_CURRENT) {\n        const url = this.occEndpoints.buildUrl('consignmentTracking', {\n            urlParams: { userId, orderCode, consignmentCode },\n        });\n        return this.http\n            .get(url)\n            .pipe(this.converter.pipeable(CONSIGNMENT_TRACKING_NORMALIZER));\n    }\n    cancel(userId, orderCode, cancelRequestInput) {\n        const url = this.occEndpoints.buildUrl('cancelOrder', {\n            urlParams: { userId, orderId: orderCode },\n        });\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json',\n        });\n        return this.http\n            .post(url, cancelRequestInput, { headers })\n            .pipe(catchError((error) => throwError(error)));\n    }\n    createReturnRequest(userId, returnRequestInput) {\n        const url = this.occEndpoints.buildUrl('returnOrder', {\n            urlParams: { userId },\n        });\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json',\n        });\n        returnRequestInput = this.converter.convert(returnRequestInput, ORDER_RETURN_REQUEST_INPUT_SERIALIZER);\n        return this.http.post(url, returnRequestInput, { headers }).pipe(catchError((error) => throwError(error)), this.converter.pipeable(ORDER_RETURN_REQUEST_NORMALIZER));\n    }\n    loadReturnRequestList(userId, pageSize, currentPage, sort) {\n        const params = {};\n        if (pageSize) {\n            params['pageSize'] = pageSize.toString();\n        }\n        if (currentPage) {\n            params['currentPage'] = currentPage.toString();\n        }\n        if (sort) {\n            params['sort'] = sort.toString();\n        }\n        const url = this.occEndpoints.buildUrl('orderReturns', {\n            urlParams: { userId },\n            queryParams: params,\n        });\n        return this.http\n            .get(url)\n            .pipe(this.converter.pipeable(ORDER_RETURNS_NORMALIZER));\n    }\n    loadReturnRequestDetail(userId, returnRequestCode) {\n        const url = this.occEndpoints.buildUrl('orderReturnDetail', {\n            urlParams: { userId, returnRequestCode },\n        });\n        return this.http\n            .get(url)\n            .pipe(this.converter.pipeable(ORDER_RETURN_REQUEST_NORMALIZER));\n    }\n    cancelReturnRequest(userId, returnRequestCode, returnRequestModification) {\n        const url = this.occEndpoints.buildUrl('cancelReturn', {\n            urlParams: { userId, returnRequestCode },\n        });\n        const headers = new HttpHeaders({\n            'Content-Type': 'application/json',\n        });\n        return this.http\n            .patch(url, returnRequestModification, { headers })\n            .pipe(catchError((error) => throwError(error)));\n    }\n}\nOccOrderAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccOrderAdapter, deps: [{ token: i1.HttpClient }, { token: i2.OccEndpointsService }, { token: i2.ConverterService }], target: i0.ɵɵFactoryTarget.Injectable });\nOccOrderAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccOrderAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccOrderAdapter, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2.OccEndpointsService }, { type: i2.ConverterService }]; } });\n\nclass OccReplenishmentOrderAdapter {\n    constructor(http, occEndpoints, converter) {\n        this.http = http;\n        this.occEndpoints = occEndpoints;\n        this.converter = converter;\n    }\n    load(userId, replenishmentOrderCode) {\n        return this.http\n            .get(this.occEndpoints.buildUrl('replenishmentOrderDetails', {\n            urlParams: { userId, replenishmentOrderCode },\n        }))\n            .pipe(this.converter.pipeable(REPLENISHMENT_ORDER_NORMALIZER));\n    }\n    loadReplenishmentDetailsHistory(userId, replenishmentOrderCode, pageSize, currentPage, sort) {\n        const params = {};\n        if (pageSize) {\n            params['pageSize'] = pageSize.toString();\n        }\n        if (currentPage) {\n            params['currentPage'] = currentPage.toString();\n        }\n        if (sort) {\n            params['sort'] = sort.toString();\n        }\n        return this.http\n            .get(this.occEndpoints.buildUrl('replenishmentOrderDetailsHistory', {\n            urlParams: { userId, replenishmentOrderCode },\n            queryParams: params,\n        }))\n            .pipe(this.converter.pipeable(ORDER_HISTORY_NORMALIZER));\n    }\n    cancelReplenishmentOrder(userId, replenishmentOrderCode) {\n        const headers = new HttpHeaders().set('Content-Type', 'application/json');\n        return this.http\n            .patch(this.occEndpoints.buildUrl('cancelReplenishmentOrder', {\n            urlParams: { userId, replenishmentOrderCode },\n        }), {}, { headers })\n            .pipe(this.converter.pipeable(REPLENISHMENT_ORDER_NORMALIZER));\n    }\n    loadHistory(userId, pageSize, currentPage, sort) {\n        const params = {};\n        if (pageSize) {\n            params['pageSize'] = pageSize.toString();\n        }\n        if (currentPage) {\n            params['currentPage'] = currentPage.toString();\n        }\n        if (sort) {\n            params['sort'] = sort.toString();\n        }\n        const url = this.occEndpoints.buildUrl('replenishmentOrderHistory', {\n            urlParams: { userId },\n            queryParams: params,\n        });\n        return this.http\n            .get(url)\n            .pipe(this.converter.pipeable(REPLENISHMENT_ORDER_HISTORY_NORMALIZER));\n    }\n}\nOccReplenishmentOrderAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReplenishmentOrderAdapter, deps: [{ token: i1.HttpClient }, { token: i2.OccEndpointsService }, { token: i2.ConverterService }], target: i0.ɵɵFactoryTarget.Injectable });\nOccReplenishmentOrderAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReplenishmentOrderAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccReplenishmentOrderAdapter, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2.OccEndpointsService }, { type: i2.ConverterService }]; } });\n\n// Imported for side effects (module augmentation)\n\nconst defaultOccOrderConfig = {\n    backend: {\n        occ: {\n            endpoints: {\n                /* eslint-disable max-len */\n                orderHistory: 'users/${userId}/orders',\n                orderDetail: 'users/${userId}/orders/${orderId}?fields=FULL',\n                consignmentTracking: 'users/${userId}/orders/${orderCode}/consignments/${consignmentCode}/tracking',\n                cancelOrder: 'users/${userId}/orders/${orderId}/cancellation',\n                returnOrder: 'users/${userId}/orderReturns?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)',\n                orderReturns: 'users/${userId}/orderReturns?fields=BASIC',\n                orderReturnDetail: 'users/${userId}/orderReturns/${returnRequestCode}?fields=BASIC,returnEntries(BASIC,refundAmount(formattedValue),orderEntry(basePrice(formattedValue),product(name,code,baseOptions,images(DEFAULT,galleryIndex)))),deliveryCost(formattedValue),totalPrice(formattedValue),subTotal(formattedValue)',\n                cancelReturn: 'users/${userId}/orderReturns/${returnRequestCode}',\n                /* eslint-enable */\n            },\n        },\n    },\n};\n\nclass OrderOccModule {\n}\nOrderOccModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OrderOccModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nOrderOccModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OrderOccModule, imports: [CommonModule] });\nOrderOccModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OrderOccModule, providers: [\n        provideDefaultConfig(defaultOccOrderConfig),\n        { provide: OrderAdapter, useClass: OccOrderAdapter },\n        {\n            provide: ReplenishmentOrderAdapter,\n            useClass: OccReplenishmentOrderAdapter,\n        },\n        {\n            provide: ORDER_RETURN_REQUEST_NORMALIZER,\n            useExisting: OccReturnRequestNormalizer,\n            multi: true,\n        },\n    ], imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OrderOccModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    providers: [\n                        provideDefaultConfig(defaultOccOrderConfig),\n                        { provide: OrderAdapter, useClass: OccOrderAdapter },\n                        {\n                            provide: ReplenishmentOrderAdapter,\n                            useClass: OccReplenishmentOrderAdapter,\n                        },\n                        {\n                            provide: ORDER_RETURN_REQUEST_NORMALIZER,\n                            useExisting: OccReturnRequestNormalizer,\n                            multi: true,\n                        },\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OccOrderAdapter, OccReplenishmentOrderAdapter, OccReturnRequestNormalizer, OrderOccModule };\n//# sourceMappingURL=spartacus-order-occ.js.map\n"]},"metadata":{},"sourceType":"module"}