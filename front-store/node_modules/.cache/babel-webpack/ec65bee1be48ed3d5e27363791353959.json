{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { CART_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport { pluck, map } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { SavedCartAdapter } from '@spartacus/cart/saved-cart/core';\n\nclass OccSavedCartAdapter {\n  constructor(http, occEndpoints, converter) {\n    this.http = http;\n    this.occEndpoints = occEndpoints;\n    this.converter = converter;\n  }\n\n  load(userId, cartId) {\n    return this.http.get(this.getSavedCartEndpoint(userId, cartId)).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n\n  loadList(userId) {\n    return this.http.get(this.getSavedCartListEndpoint(userId)).pipe(pluck('carts'), map(carts => carts !== null && carts !== void 0 ? carts : []), this.converter.pipeableMany(CART_NORMALIZER));\n  }\n\n  restoreSavedCart(userId, cartId) {\n    return this.http.patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n\n  saveCart(userId, cartId, saveCartName, saveCartDescription) {\n    return this.http.patch(this.getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n\n  cloneSavedCart(userId, cartId, saveCartName) {\n    return this.http.post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n\n  getSavedCartEndpoint(userId, cartId) {\n    return this.occEndpoints.buildUrl('savedCart', {\n      urlParams: {\n        userId,\n        cartId\n      }\n    });\n  }\n\n  getSavedCartListEndpoint(userId) {\n    return this.occEndpoints.buildUrl('savedCarts', {\n      urlParams: {\n        userId\n      }\n    });\n  }\n\n  getRestoreSavedCartEndpoint(userId, cartId) {\n    return this.occEndpoints.buildUrl('restoreSavedCart', {\n      urlParams: {\n        userId,\n        cartId\n      }\n    });\n  }\n\n  getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription) {\n    return this.occEndpoints.buildUrl('saveCart', {\n      urlParams: {\n        userId,\n        cartId,\n        saveCartName,\n        saveCartDescription\n      }\n    });\n  }\n\n  getCloneSavedCartEndpoint(userId, cartId, saveCartName) {\n    return this.occEndpoints.buildUrl('cloneSavedCart', {\n      urlParams: {\n        userId,\n        cartId,\n        saveCartName\n      }\n    });\n  }\n\n}\n\nOccSavedCartAdapter.ɵfac = function OccSavedCartAdapter_Factory(t) {\n  return new (t || OccSavedCartAdapter)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.OccEndpointsService), i0.ɵɵinject(i2.ConverterService));\n};\n\nOccSavedCartAdapter.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OccSavedCartAdapter,\n  factory: OccSavedCartAdapter.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OccSavedCartAdapter, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2.OccEndpointsService\n    }, {\n      type: i2.ConverterService\n    }];\n  }, null);\n})(); // Imported for side effects (module augmentation)\n\n\nconst defaultOccSavedCartConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',\n        saveCart: '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n        savedCart: '/users/${userId}/carts/${cartId}/savedcart',\n        restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',\n        cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}'\n      }\n    }\n  }\n};\n\nclass SavedCartOccModule {}\n\nSavedCartOccModule.ɵfac = function SavedCartOccModule_Factory(t) {\n  return new (t || SavedCartOccModule)();\n};\n\nSavedCartOccModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: SavedCartOccModule\n});\nSavedCartOccModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfig(defaultOccSavedCartConfig), {\n    provide: SavedCartAdapter,\n    useClass: OccSavedCartAdapter\n  }],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SavedCartOccModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      providers: [provideDefaultConfig(defaultOccSavedCartConfig), {\n        provide: SavedCartAdapter,\n        useClass: OccSavedCartAdapter\n      }]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { OccSavedCartAdapter, SavedCartOccModule }; //# sourceMappingURL=spartacus-cart-saved-cart-occ.js.map","map":{"version":3,"sources":["D:/spartacus/front-store/node_modules/@spartacus/cart/fesm2015/spartacus-cart-saved-cart-occ.js"],"names":["i0","Injectable","NgModule","i2","CART_NORMALIZER","provideDefaultConfig","pluck","map","i1","CommonModule","SavedCartAdapter","OccSavedCartAdapter","constructor","http","occEndpoints","converter","load","userId","cartId","get","getSavedCartEndpoint","pipe","pipeable","loadList","getSavedCartListEndpoint","carts","pipeableMany","restoreSavedCart","patch","getRestoreSavedCartEndpoint","saveCart","saveCartName","saveCartDescription","getSaveCartEndpoint","cloneSavedCart","post","getCloneSavedCartEndpoint","buildUrl","urlParams","ɵfac","HttpClient","OccEndpointsService","ConverterService","ɵprov","type","defaultOccSavedCartConfig","backend","occ","endpoints","savedCarts","savedCart","SavedCartOccModule","ɵmod","ɵinj","provide","useClass","args","imports","providers"],"mappings":"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","sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { CART_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport { pluck, map } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { SavedCartAdapter } from '@spartacus/cart/saved-cart/core';\n\nclass OccSavedCartAdapter {\n    constructor(http, occEndpoints, converter) {\n        this.http = http;\n        this.occEndpoints = occEndpoints;\n        this.converter = converter;\n    }\n    load(userId, cartId) {\n        return this.http\n            .get(this.getSavedCartEndpoint(userId, cartId))\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    loadList(userId) {\n        return this.http\n            .get(this.getSavedCartListEndpoint(userId))\n            .pipe(pluck('carts'), map((carts) => carts !== null && carts !== void 0 ? carts : []), this.converter.pipeableMany(CART_NORMALIZER));\n    }\n    restoreSavedCart(userId, cartId) {\n        return this.http\n            .patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    saveCart(userId, cartId, saveCartName, saveCartDescription) {\n        return this.http\n            .patch(this.getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    cloneSavedCart(userId, cartId, saveCartName) {\n        return this.http\n            .post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    getSavedCartEndpoint(userId, cartId) {\n        return this.occEndpoints.buildUrl('savedCart', {\n            urlParams: { userId, cartId },\n        });\n    }\n    getSavedCartListEndpoint(userId) {\n        return this.occEndpoints.buildUrl('savedCarts', { urlParams: { userId } });\n    }\n    getRestoreSavedCartEndpoint(userId, cartId) {\n        return this.occEndpoints.buildUrl('restoreSavedCart', {\n            urlParams: { userId, cartId },\n        });\n    }\n    getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription) {\n        return this.occEndpoints.buildUrl('saveCart', {\n            urlParams: {\n                userId,\n                cartId,\n                saveCartName,\n                saveCartDescription,\n            },\n        });\n    }\n    getCloneSavedCartEndpoint(userId, cartId, saveCartName) {\n        return this.occEndpoints.buildUrl('cloneSavedCart', {\n            urlParams: { userId, cartId, saveCartName },\n        });\n    }\n}\nOccSavedCartAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter, deps: [{ token: i1.HttpClient }, { token: i2.OccEndpointsService }, { token: i2.ConverterService }], target: i0.ɵɵFactoryTarget.Injectable });\nOccSavedCartAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2.OccEndpointsService }, { type: i2.ConverterService }]; } });\n\n// Imported for side effects (module augmentation)\n\nconst defaultOccSavedCartConfig = {\n    backend: {\n        occ: {\n            endpoints: {\n                savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',\n                saveCart: '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n                savedCart: '/users/${userId}/carts/${cartId}/savedcart',\n                restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',\n                cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}',\n            },\n        },\n    },\n};\n\nclass SavedCartOccModule {\n}\nSavedCartOccModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSavedCartOccModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, imports: [CommonModule] });\nSavedCartOccModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, providers: [\n        provideDefaultConfig(defaultOccSavedCartConfig),\n        {\n            provide: SavedCartAdapter,\n            useClass: OccSavedCartAdapter,\n        },\n    ], imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    providers: [\n                        provideDefaultConfig(defaultOccSavedCartConfig),\n                        {\n                            provide: SavedCartAdapter,\n                            useClass: OccSavedCartAdapter,\n                        },\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OccSavedCartAdapter, SavedCartOccModule };\n//# sourceMappingURL=spartacus-cart-saved-cart-occ.js.map\n"]},"metadata":{},"sourceType":"module"}